オブジェクトの役割分担

基本オブジェクト関係

GameObjectクラス
- 管理されるオブジェクトの基底クラス。
- このクラスを継承して具体的なオブジェクトクラスを作成する。
- 仮想メソッドとして初期化、更新、リセット、破棄などの処理を定義する。

Transformクラス
- オブジェクトの位置、回転、スケールを管理するクラス。
- GameObjectクラスのメンバーとして持ち、オブジェクトの空間的な情報を提供する。
- 3D空間での変換行列を計算し、オブジェクトの描画や衝突判定に利用される。(現状２D)

Colliderクラス
- オブジェクトの衝突判定を担当するクラス。
- GameObjectクラス(末端)のメンバーとして持ち、オブジェクト同士の衝突を検出する。
- 衝突形状や衝突イベントの処理を定義する。
- 移動や回転に応じてColliderの形状を更新する機能を持つ。

ColliderManagerクラス
- 唯一インスタンスで動作しColliderを管理するクラス。
- シングルトンパターンを使用して実装される。
- シーン内の全てのColliderを管理するクラス。
- Colliderの登録、削除、更新を行う。
- 衝突判定のための空間分割や最適化を行う。

※移動関係はTransformクラスが一括で管理する。

生成管理関係

ObjectHandleクラス
- オブジェクトの識別子を表すクラス。
- インデックスと世代番号を組み合わせてオブジェクトの一意性を確保する。
- オブジェクトの識別には「インデックス:世代番号」の形式を使用する。
- 例: 5:2 （インデックス5、世代番号2のオブジェクト）
- ハンドルの有効性をチェックするメソッドを提供する。
- ハンドルを整数値に変換するメソッドを提供し、シリアライズに対応する。

ObjectPoolクラス
- オブジェクトのプールを管理するクラス。
- プール内のオブジェクトのリストを保持し、オブジェクトの取得と返却を行うAPIを提供する。
- オブジェクトの実質的な管理者はManagerクラスとする。(ManagerクラスがObjectPoolクラスを利用する形)
- スレッドセーフな設計を行い、複数スレッドからのアクセスに対応する。
- 例外安全な設計を行い、オブジェクト生成中に例外が発生してもプールの状態を壊さないようにする。
- プールのサイズ管理を行い、必要に応じてプールを拡張または縮小する機能を提供する。

Factoryクラス
- オブジェクトの生成を担当するクラス。
- createObjectメソッドを持ち、新しいオブジェクトを生成して返す。
- シングルトンパターンを使用して、Factoryクラスのインスタンスは一つだけにする。

Managerクラス
- 生成されたオブジェクトの管理を担当するクラス。
- Object Poolパターンを使用して、オブジェクトの再利用を行う。
- getObjectメソッドを持ち、利用可能なオブジェクトを返す。利用可能なオブジェクトがない場合はFactoryクラスを使用して新しいオブジェクトを生成する。
- releaseObjectメソッドを持ち、使用が終わったオブジェクトをプールに戻す。
- シングルトンパターンを使用して、Managerクラスのインスタンスは一つだけにしオブジェクトの一元管理を行う。
